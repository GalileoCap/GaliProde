import{R as e,M as t,H as n,C as a,G as r,L as l,B as o,I as c,r as i,u as s,a as m,S as u,b as p,c as y,d as E,e as h,f as g,g as d,h as f,W as b,i as v,j as C}from"./vendor.a9278e50.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();function P({setPath:a}){return e.createElement(t,{fixed:"top",widths:1,inverted:!0,size:"massive",onClick:()=>a("")},e.createElement(t.Item,null,e.createElement(n,{as:"h1",inverted:!0,content:"(Tu Marca)"})))}function T({setPath:t,only:a}){return e.createElement(r.Column,{only:a,color:"grey",width:8},e.createElement(n,{as:"h1",inverted:!0,content:"¿Cómo se juega?"}),e.createElement(l,{as:"ol"},e.createElement(l.Item,{as:"li"},"Elegí una provincia"),e.createElement("p",null),e.createElement(l.Item,{as:"li"},"Ajustá los porcentajes para cada partido"),e.createElement("p",null),e.createElement(l.Item,{as:"li"},"Elegí cuántas fichas querés comprar"),e.createElement(l.Item,null,e.createElement(o,{primary:!0,onClick:()=>t(["elecciones","betting"]),style:{marginTop:"1em"},content:"Apostá ahora y ganá!"}))))}function w({setPath:t}){return e.createElement(r.Column,{width:8,style:{display:"flex",alignItems:"center"}},e.createElement(c,{src:"/GaliProde/assets/betting.29498be8.jpg"}),e.createElement(o,{color:"red",style:{position:"absolute",width:"40%",marginLeft:"29%",heigth:"15%",marginTop:"30%"},onClick:()=>t(["elecciones","betting"]),content:"Apostar Ahora!"}))}function M(){return e.createElement(r.Row,{columns:1,style:{marginTop:"1.3em"}},e.createElement(r.Column,{color:"green"},"TODO: Video explicativo"))}function k({setPath:t}){return e.createElement(a,{style:{marginTop:"5em",textAlign:"center"}},e.createElement(n,{style:{fontFamily:"Anton",fontSize:"3.5em",marginTop:"1.8em",marginBottom:"0.7em"}},"¡POZO $",1936753,"!"),e.createElement(r,{rows:2,stackable:!0,style:{marginLeft:"2em",marginRight:"2em"}},e.createElement(r.Row,{columns:2},e.createElement(T,{setPath:t,only:"computer tablet"}),e.createElement(w,{setPath:t}),e.createElement(T,{setPath:t,only:"mobile"})),e.createElement(M,null)))}const S="0xC89Ce4735882C9F0f0FE26686c53074E09B0D550",A={"Buenos Aires":["juntos","todos","izquierda"]};function x({party:t,y:a,pct:l,setPct:o}){const[c,s]=i.exports.useState(!1),[p,y]=i.exports.useState(l);!function(){const[e,t]=i.exports.useState(0)}();const E=e=>{o(a,parseFloat(e),s),y(e)},h=e.createElement(u,{value:p,valueLabelDisplay:"auto",onChange:(e,t)=>E(t)});return e.createElement(e.Fragment,null,e.createElement(r.Row,{style:{marginTop:"1.5em"}},e.createElement(r.Column,{computer:3,mobile:7,color:"grey"},e.createElement(n,{as:"h2",content:t})),e.createElement(r.Column,{computer:5,mobile:9,color:"grey"},e.createElement(m,{label:{basic:!0,content:"%"},labelPosition:"right",size:"mini",type:"number",error:c,value:p,onChange:(e,t)=>E(t.value)})),e.createElement(r.Column,{only:"computer",width:8,color:"green"},h)),e.createElement(r.Row,{only:"tablet mobile",color:"green",columns:1},e.createElement(r.Column,{width:16},h)))}function B({province:t,bets:l,setBets:c,setPath:i}){s();const m=A[t],u=(e,t,n)=>{if(0<=t&&t<=100){n(!1);const a=l;a[e]=t,c(a)}else n(!0)};return e.createElement(a,{style:{textAlign:"center",marginTop:"6em"}},e.createElement(n,{as:"h1",content:"Elegí tus apuestas"}),e.createElement(r,{divided:"vertically"},m.map(((t,n)=>e.createElement(x,{key:n,party:t,y:n,pct:l[n],setPct:u})))),e.createElement(o,{primary:!0,size:"huge",onClick:()=>i(["elecciones","submit"]),content:"Preparar Apuesta",style:{marginTop:"2.5em"}}))}var F=[{inputs:[{internalType:"uint256",name:"TotalGames",type:"uint256"},{internalType:"uint256",name:"minPrice",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"Done",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"GamePool",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"Games",outputs:[{internalType:"uint256",name:"result",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"Manager",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"MinPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"Started",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"TotalPool",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256[]",name:"votes",type:"uint256[]"}],name:"placeBet",outputs:[],stateMutability:"payable",type:"function",payable:!0},{inputs:[],name:"startGames",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"results",type:"uint256[]"}],name:"inputResults",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimPrize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getBettor",outputs:[{components:[{internalType:"uint256[]",name:"votes",type:"uint256[]"},{internalType:"bool",name:"voted",type:"bool"},{internalType:"bool",name:"extracted",type:"bool"}],internalType:"struct Wager.Bettor",name:"",type:"tuple"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"i",type:"uint256"}],name:"getGame",outputs:[{components:[{internalType:"uint256[3]",name:"votes",type:"uint256[3]"},{internalType:"uint256",name:"result",type:"uint256"}],internalType:"struct Wager.Game",name:"",type:"tuple"}],stateMutability:"view",type:"function",constant:!0}];const I=new p({supportedChainIds:[1,3,4,5,42,97,1337]});function R(e,t=S){return new y(t,F,e.getSigner())}function z(e,t,n=(()=>{}),a=S){const r=R(t);(function(e,t,n=S){const a=R(t,n);if("bettor"==e[0])return a.getBettor();if("started"==e[0])return a.Started();if("done"==e[0])return a.Done();if("game"==e[0])return a.getGame(e[1]);if("price"==e[0])return a.MinPrice();if("totalPool"==e[0])return a.TotalPool();console.error("getFromContract invalid arguments",e)})(["price"],t,a).then((t=>{r.placeBet(e,{value:t}).then(n).catch((e=>console.error("submitBets",a,e)))}))}function G({party:t,pct:a}){const l=e.createElement(u,{value:a,disabled:!0});return e.createElement(e.Fragment,null,e.createElement(r.Row,{style:{marginTop:"1.5em"}},e.createElement(r.Column,{computer:3,mobile:7,color:"grey"},e.createElement(n,{as:"h2",content:t})),e.createElement(r.Column,{computer:5,mobile:9,color:"grey"},e.createElement(n,{inverted:!0,as:"h3"},a,"%")),e.createElement(r.Column,{only:"computer",width:8,color:"green"},l)),e.createElement(r.Row,{only:"tablet mobile",color:"green",columns:1},e.createElement(r.Column,{width:16},l)))}function L({fichas:t,setFichas:n,only:a}){const c=e=>{const a=t+e;a>0&&n(a)};return e.createElement(r.Column,{only:a},e.createElement(l,{horizontal:!0},e.createElement(l.Item,null,e.createElement(o,{secondary:!0,content:"-",onClick:()=>c(-1)})),e.createElement(l.Item,null,e.createElement(l.Header,{as:"h2",content:"#Fichas"}),e.createElement(l.Description,{content:t})),e.createElement(l.Item,null,e.createElement(o,{secondary:!0,content:"+",onClick:()=>c(1)}))))}function j({onClickSubmit:t}){return e.createElement(r.Column,null,e.createElement(o,{primary:!0,size:"huge",onClick:t,content:"Confirmar Apuesta",style:{marginTop:"1em"}}))}function D({province:t,bets:l,fichas:c,setFichas:i,setPath:m}){const u=A[t],{activate:p,active:y,library:h}=s();y||p(I);return e.createElement(a,{style:{textAlign:"center",marginTop:"6em"}},e.createElement(n,{as:"h1",content:"Confirmá tus apuestas"}),e.createElement(r,{stackable:!0},e.createElement(r.Row,{columns:2},e.createElement(L,{fichas:c,setFichas:i,only:"computer tablet"}),e.createElement(j,{onClickSubmit:()=>{console.log("onSubmitBets bets",l),z(l,h,(()=>m(["elecciones","receipt"])))}}),e.createElement(L,{fichas:c,setFichas:i,only:"mobile"}))),e.createElement(r,{divided:"vertically"},u.map(((t,n)=>e.createElement(G,{key:n,party:t,pct:l[n]})))),e.createElement(E,{size:"tiny",open:!y},e.createElement(E.Header,{content:"Active la Crypto-Billetera"}),e.createElement(E.Content,null,e.createElement("p",null,"Necesita activar la Crypto-Billetera para apostar"),e.createElement("p",null,"Por ahora solo usamos MetaMask, ¡pero hay más en camino!"),e.createElement("p",null,"Si no te salió otro popup ",e.createElement(o,{secondary:!0,onClick:()=>p(I),content:"¡Clickeame!"})))))}function O({party:t,pct:a}){const l=e.createElement(u,{value:a,disabled:!0});return e.createElement(e.Fragment,null,e.createElement(r.Row,{style:{marginTop:"1.5em"}},e.createElement(r.Column,{computer:3,mobile:7,color:"grey"},e.createElement(n,{as:"h2",content:t})),e.createElement(r.Column,{computer:5,mobile:9,color:"grey"},e.createElement(n,{inverted:!0,as:"h3"},a,"%")),e.createElement(r.Column,{only:"computer",width:8,color:"green"},l)),e.createElement(r.Row,{only:"tablet mobile",color:"green",columns:1},e.createElement(r.Column,{width:16},l)))}function N({fichas:t}){return e.createElement(r.Column,null,e.createElement(n,{as:"h3"},"Se guardaró tu apuesta por ",t," fichas"))}function H({setPath:t}){return e.createElement(r.Column,null,e.createElement(o,{primary:!0,onClick:()=>t([""]),content:"Seguir Apostando",style:{marginTop:"1em"}}))}function q({province:t,bets:l,fichas:o,setPath:c}){const i=A[t];return e.createElement(a,{style:{textAlign:"center",marginTop:"6em"}},e.createElement(n,{as:"h1",content:"¡Mucha suerte!"}),e.createElement(r,{stackable:!0},e.createElement(r.Row,{columns:2},e.createElement(N,{fichas:o}),e.createElement(H,{setPath:c}))),e.createElement(r,{divided:"vertically"},i.map(((t,n)=>e.createElement(O,{key:n,party:t,pct:l[n]})))))}function W({setPath:t}){const{account:r,activate:c,active:i,library:m}=s();return i||c(I),e.createElement(a,{style:{textAlign:"center",marginTop:"6em"}},e.createElement(n,{as:"h1",content:"Retirar Premios"}),e.createElement(l,null,e.createElement(l.Item,null,e.createElement(n,{as:"h2",content:"Ganaste"}),e.createElement(n,{style:{fontFamily:"Anton",fontSize:"2.5em"},content:"$X"}),e.createElement(n,{as:"h2",content:"en premios"})),e.createElement(l.Item,null,e.createElement(n,{as:"h3"},e.createElement("p",null,"lo enviaremos a"),r)),e.createElement(l.Item,null,e.createElement(o,{primary:!0,content:"Retirar"}))),e.createElement(E,{size:"tiny",open:!i},e.createElement(E.Header,{content:"Active la Crypto-Billetera"}),e.createElement(E.Content,null,e.createElement("p",null,"Necesita activar la Crypto-Billetera para apostar"),e.createElement("p",null,"Por ahora solo usamos MetaMask, ¡pero hay más en camino!"),e.createElement("p",null,"Si no te salió otro popup ",e.createElement(o,{secondary:!0,onClick:()=>c(I),content:"¡Clickeame!"})))))}function $({path:t,setPath:n,province:r}){s();const l=A[r],[o,c]=i.exports.useState(Array(l.length).fill(Math.floor(100/l.length))),[m,u]=i.exports.useState(1);i.exports.useState({bettor:void 0,started:!1,done:!1});const p=["betting","submit","receipt","claimPrize"],y=["Prepará tus apuestas","Confirmalas","Recibo","¡Retirá tus premios!"],E=p.indexOf(t[1]);return e.createElement(e.Fragment,null,e.createElement(a,null,0==E?e.createElement(B,{province:r,bets:o,setBets:c,setPath:n}):1==E?e.createElement(D,{province:r,bets:o,fichas:m,setFichas:u,setPath:n}):2==E?e.createElement(q,{province:r,fichas:m,bets:o,setPath:n}):3==E?e.createElement(W,{setPath:n}):e.createElement(a,null)),e.createElement(h,{sx:{width:"100%",marginTop:"3em"}},e.createElement(g,{activeStep:E,alternativeLabel:!0},p.map(((t,n)=>e.createElement(d,{key:t},e.createElement(f,null,y[n])))))))}function K(){const[t,n]=i.exports.useState([""]);return e.createElement(e.Fragment,null,e.createElement(P,{setPath:n}),e.createElement(a,{fluid:!0},"elecciones"==t[0]?e.createElement($,{path:t,setPath:n,province:"Buenos Aires"}):e.createElement(k,{setPath:n})))}function V(){return e.createElement(e.Fragment,null,e.createElement(b,{getLibrary:e=>{const t=new v(e);return t.pollingInterval=12e3,t}},e.createElement(K,null)))}C.render(e.createElement(V,null),document.getElementById("root"));
